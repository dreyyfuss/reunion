<!-- users/templates/users/profile.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Your Profile{% endblock %}

{% block content %}
<section class="profile-section">
    <div class="profile-container">
        <h2>Your Profile</h2>
        
        <div class="profile-tabs">
            <a href="{% url 'profile' %}" class="profile-tab {% if active_tab == 'profile' %}active{% endif %}">Details</a>
            <a href="{% url 'change_password' %}" class="profile-tab {% if active_tab == 'password' %}active{% endif %}">Password</a>
        </div>
        
        <div class="profile-content">
            {% if active_tab == 'profile' %}
                <form method="post" class="profile-form">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="id_first_name">First Name *</label>
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <div class="error-message">
                                {{ form.first_name.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_last_name">Last Name *</label>
                        {{ form.last_name }}
                        {% if form.last_name.errors %}
                            <div class="error-message">
                                {{ form.last_name.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_phone">Phone Number *</label>
                        {{ form.phone }}
                        {% if form.phone.errors %}
                            <div class="error-message">
                                {{ form.phone.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_address_line_1">Street Address *</label>
                        {{ form.address_line_1 }}
                        {% if form.address_line_1.errors %}
                            <div class="error-message">
                                {{ form.address_line_1.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_city">City *</label>
                        {{ form.city }}
                        {% if form.city.errors %}
                            <div class="error-message">
                                {{ form.city.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_state">State/Province *</label>
                        {{ form.state }}
                        {% if form.state.errors %}
                            <div class="error-message">
                                {{ form.state.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_country">Country *</label>
                        {{ form.country }}
                        {% if form.country.errors %}
                            <div class="error-message">
                                {{ form.country.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_shirt_size">T-Shirt Size *</label>
                        {{ form.shirt_size }}
                        {% if form.shirt_size.errors %}
                            <div class="error-message">
                                {{ form.shirt_size.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_gift1">Gift 1 (website link) *</label>
                        {{ form.gift1 }}
                        {% if form.gift1.errors %}
                            <div class="error-message">
                                {{ form.gift1.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_gift2">Gift 2 (website link)</label>
                        {{ form.gift2 }}
                        {% if form.gift2.errors %}
                            <div class="error-message">
                                {{ form.gift2.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_gift3">Gift 3 (website link)</label>
                        {{ form.gift3 }}
                        {% if form.gift3.errors %}
                            <div class="error-message">
                                {{ form.gift3.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_gift4">Gift 4 (website link)</label>
                        {{ form.gift4 }}
                        {% if form.gift4.errors %}
                            <div class="error-message">
                                {{ form.gift4.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_donation_currency">Donation Currency</label>
                        {{ form.donation_currency }}
                        {% if form.donation_currency.errors %}
                            <div class="error-message">
                                {{ form.donation_currency.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_donation_amount">Donation Amount</label>
                        {{ form.donation_amount }}
                        {% if form.donation_amount.errors %}
                            <div class="error-message">
                                {{ form.donation_amount.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <button type="submit" class="submit-btn">Update Profile</button>
                    </div>
                </form>
            {% else %}
                <form method="post" class="password-form">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="id_old_password">Old Password *</label>
                        {{ password_form.old_password }}
                        {% if password_form.old_password.errors %}
                            <div class="error-message">
                                {{ password_form.old_password.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_new_password1">New Password *</label>
                        {{ password_form.new_password1 }}
                        {% if password_form.new_password1.errors %}
                            <div class="error-message">
                                {{ password_form.new_password1.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="id_new_password2">Confirm New Password *</label>
                        {{ password_form.new_password2 }}
                        {% if password_form.new_password2.errors %}
                            <div class="error-message">
                                {{ password_form.new_password2.errors }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <button type="submit" class="submit-btn">Change Password</button>
                    </div>
                </form>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}