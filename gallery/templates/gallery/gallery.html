{% extends 'base.html' %}
{% block title %}Gallery{% endblock %}

{% block content %}
<section class="gallery-section">
    <h2>Event Gallery</h2>
    <p>Browse through uploaded photos</p>

    <div class="photo-grid">
        {% for photo in photos %}
        <div class="photo-card">
            <a href="{% url 'photo_detail' photo.id %}">
                <img src="{{ photo.image.url }}" alt="Photo {{ photo.id }}" />
                {% if photo.caption %}
                    <p>{{ photo.caption|truncatechars:100 }}</p>
                {% endif %}
                <p><em>Uploaded by {{ photo.user.email }} on {{ photo.uploaded_at|date:"M d, Y" }}</em></p>
            </a>
        </div>
        {% empty %}
        <p>No photos uploaded yet.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
